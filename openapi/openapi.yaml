openapi: 3.1.0
info:
  title: Collections and Galleries API
  version: 0.1.0
  description: |
    Contract-first API for collections, galleries, uploads, and profiles.
    Runtime endpoints must be represented here.
  license:
    name: Proprietary
    identifier: LicenseRef-Proprietary
servers:
  - url: /
tags:
  - name: Collections
    description: Resource collections and their nodes.
  - name: Files
    description: Universal file registry and metadata management.
  - name: Galleries
    description: Simplified gallery read models for media display.
  - name: Profiles
    description: Profile detail endpoints.
paths:
  /api/collections:
    $ref: './paths/collections/list-create.yaml'
  /api/collections/{id}:
    $ref: './paths/collections/detail.yaml'
  /api/collections/{id}/nodes:
    $ref: './paths/collections/nodes.yaml'
  /api/collections/{id}/nodes/{nodeId}:
    $ref: './paths/collections/node-detail.yaml'
  /api/collections/{id}/nodes/{nodeId}/move:
    $ref: './paths/collections/node-move.yaml'
  /api/collections/{id}/nodes/{nodeId}/copy:
    $ref: './paths/collections/node-copy.yaml'
  /api/collections/{id}/nodes/reorder:
    $ref: './paths/collections/nodes-reorder.yaml'
  /api/files:
    $ref: './paths/files/list-create.yaml'
  /api/files/delete-batch:
    $ref: './paths/files/delete-batch.yaml'
  /api/files/{id}:
    $ref: './paths/files/detail.yaml'
  /api/files/{id}/usage:
    $ref: './paths/files/usage.yaml'
  /api/galleries/{galleryId}/minview:
    $ref: './paths/galleries/minview.yaml'
  /api/galleries/{galleryId}/fullassets:
    $ref: './paths/galleries/fullassets.yaml'
  /api/galleries/{galleryId}/assets/status:
    $ref: './paths/galleries/assets-status.yaml'
  /api/galleries/{galleryId}/fullassets/reorder:
    $ref: './paths/galleries/fullassets-reorder.yaml'
  /api/galleries/{galleryId}/fullassets/{assetId}:
    $ref: './paths/galleries/fullassets-detail.yaml'
  /api/galleries/{galleryId}/uploads/initiate:
    $ref: './paths/galleries/uploads-initiate.yaml'
  /api/galleries/{galleryId}/uploads/{uploadId}:
    $ref: './paths/galleries/uploads-status.yaml'
  /api/galleries/{galleryId}/uploads/{uploadId}/part-url:
    $ref: './paths/galleries/uploads-part-url.yaml'
  /api/galleries/{galleryId}/uploads/{uploadId}/part-urls:
    $ref: './paths/galleries/uploads-part-urls.yaml'
  /api/galleries/{galleryId}/uploads/{uploadId}/complete:
    $ref: './paths/galleries/uploads-complete.yaml'
  /api/galleries/{galleryId}/uploads/{uploadId}/abort:
    $ref: './paths/galleries/uploads-abort.yaml'
  /api/uploads/initiate:
    $ref: './paths/uploads/initiate.yaml'
  /api/uploads/initiate-batch:
    $ref: './paths/uploads/initiate-batch.yaml'
  /api/uploads/{uploadId}:
    $ref: './paths/uploads/status.yaml'
  /api/uploads/{uploadId}/part-url:
    $ref: './paths/uploads/part-url.yaml'
  /api/uploads/{uploadId}/part-urls:
    $ref: './paths/uploads/part-urls.yaml'
  /api/uploads/{uploadId}/complete:
    $ref: './paths/uploads/complete.yaml'
  /api/uploads/complete-batch:
    $ref: './paths/uploads/complete-batch.yaml'
  /api/uploads/{uploadId}/abort:
    $ref: './paths/uploads/abort.yaml'
  /api/profiles:
    $ref: './paths/profiles/list.yaml'
  /api/profiles/{profileId}/galleries:
    $ref: './paths/profiles/galleries-create.yaml'
  /api/profiles/{profileSlug}:
    $ref: './paths/profiles/detail.yaml'
  /api/profiles/{profileSlug}/viewer-state:
    $ref: './paths/profiles/viewer-state.yaml'
  /api/profiles/top:
    $ref: './paths/profiles/top.yaml'
  /api/profiles/favorite:
    $ref: './paths/profiles/favorite.yaml'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    CollectionId:
      $ref: './components/parameters/collections/CollectionId.yaml'
    ParentId:
      $ref: './components/parameters/collections/ParentId.yaml'
    NodeId:
      $ref: './components/parameters/collections/NodeId.yaml'
    PerPage:
      $ref: './components/parameters/collections/PerPage.yaml'
    SortBy:
      $ref: './components/parameters/collections/SortBy.yaml'
    SortDirection:
      $ref: './components/parameters/collections/SortDirection.yaml'
    Type:
      $ref: './components/parameters/collections/Type.yaml'
    GalleryId:
      $ref: './components/parameters/galleries/GalleryId.yaml'
    AssetId:
      $ref: './components/parameters/galleries/AssetId.yaml'
    UploadId:
      $ref: './components/parameters/galleries/UploadId.yaml'
    ProfileId:
      $ref: './components/parameters/profiles/ProfileId.yaml'
    ProfileSlug:
      $ref: './components/parameters/profiles/ProfileSlug.yaml'
    FileId:
      $ref: './components/parameters/files/FileId.yaml'
  schemas:
    Collection:
      $ref: './components/schemas/collections/Collection.yaml'
    CollectionNode:
      $ref: './components/schemas/collections/CollectionNode.yaml'
    CollectionNodeFile:
      $ref: './components/schemas/collections/CollectionNodeFile.yaml'
    CollectionNodeLink:
      $ref: './components/schemas/collections/CollectionNodeLink.yaml'
    CollectionListResponse:
      $ref: './components/schemas/collections/CollectionListResponse.yaml'
    CollectionResponse:
      $ref: './components/schemas/collections/CollectionResponse.yaml'
    CollectionNodeListResponse:
      $ref: './components/schemas/collections/CollectionNodeListResponse.yaml'
    CollectionNodeResponse:
      $ref: './components/schemas/collections/CollectionNodeResponse.yaml'
    StoreCollectionRequest:
      $ref: './components/schemas/collections/StoreCollectionRequest.yaml'
    UpdateCollectionRequest:
      $ref: './components/schemas/collections/UpdateCollectionRequest.yaml'
    StoreCollectionNodeRequest:
      $ref: './components/schemas/collections/StoreCollectionNodeRequest.yaml'
    UpdateCollectionNodeRequest:
      $ref: './components/schemas/collections/UpdateCollectionNodeRequest.yaml'
    MoveCollectionNodeRequest:
      $ref: './components/schemas/collections/MoveCollectionNodeRequest.yaml'
    CopyCollectionNodeRequest:
      $ref: './components/schemas/collections/CopyCollectionNodeRequest.yaml'
    ReorderCollectionNodesRequest:
      $ref: './components/schemas/collections/ReorderCollectionNodesRequest.yaml'
    File:
      $ref: './components/schemas/files/File.yaml'
    FileResponse:
      $ref: './components/schemas/files/FileResponse.yaml'
    FileListResponse:
      $ref: './components/schemas/files/FileListResponse.yaml'
    StoreFileRequest:
      $ref: './components/schemas/files/StoreFileRequest.yaml'
    UpdateFileRequest:
      $ref: './components/schemas/files/UpdateFileRequest.yaml'
    DeleteFileWarningResponse:
      $ref: './components/schemas/files/DeleteFileWarningResponse.yaml'
    DeleteFilesBatchRequest:
      $ref: './components/schemas/files/DeleteFilesBatchRequest.yaml'
    DeleteFilesBatchResponse:
      $ref: './components/schemas/files/DeleteFilesBatchResponse.yaml'
    FileUsageResponse:
      $ref: './components/schemas/files/FileUsageResponse.yaml'
    GalleryMinView:
      $ref: './components/schemas/galleries/GalleryMinView.yaml'
    GalleryMinViewItem:
      $ref: './components/schemas/galleries/GalleryMinViewItem.yaml'
    GalleryMinViewResponse:
      $ref: './components/schemas/galleries/GalleryMinViewResponse.yaml'
    GalleryAsset:
      $ref: './components/schemas/galleries/GalleryAsset.yaml'
    GalleryAssetStatus:
      $ref: './components/schemas/galleries/GalleryAssetStatus.yaml'
    GalleryAssetStatusesRequest:
      $ref: './components/schemas/galleries/GalleryAssetStatusesRequest.yaml'
    GalleryAssetStatusesResponse:
      $ref: './components/schemas/galleries/GalleryAssetStatusesResponse.yaml'
    GalleryFullAssetsResponse:
      $ref: './components/schemas/galleries/GalleryFullAssetsResponse.yaml'
    ReorderGalleryAssetsRequest:
      $ref: './components/schemas/galleries/ReorderGalleryAssetsRequest.yaml'
    GalleryUploadSession:
      $ref: './components/schemas/galleries/GalleryUploadSession.yaml'
    InitiateGalleryUploadRequest:
      $ref: './components/schemas/galleries/InitiateGalleryUploadRequest.yaml'
    InitiateGalleryUploadResponse:
      $ref: './components/schemas/galleries/InitiateGalleryUploadResponse.yaml'
    GetGalleryUploadStatusResponse:
      $ref: './components/schemas/galleries/GetGalleryUploadStatusResponse.yaml'
    GetGalleryUploadPartUrlRequest:
      $ref: './components/schemas/galleries/GetGalleryUploadPartUrlRequest.yaml'
    GetGalleryUploadPartUrlResponse:
      $ref: './components/schemas/galleries/GetGalleryUploadPartUrlResponse.yaml'
    GetGalleryUploadPartUrlsRequest:
      $ref: './components/schemas/galleries/GetGalleryUploadPartUrlsRequest.yaml'
    GetGalleryUploadPartUrlsResponse:
      $ref: './components/schemas/galleries/GetGalleryUploadPartUrlsResponse.yaml'
    CompleteGalleryUploadRequest:
      $ref: './components/schemas/galleries/CompleteGalleryUploadRequest.yaml'
    CompleteGalleryUploadResponse:
      $ref: './components/schemas/galleries/CompleteGalleryUploadResponse.yaml'
    InitiateUploadRequest:
      $ref: './components/schemas/uploads/InitiateUploadRequest.yaml'
    InitiateUploadBatchItem:
      $ref: './components/schemas/uploads/InitiateUploadBatchItem.yaml'
    InitiateUploadBatchRequest:
      $ref: './components/schemas/uploads/InitiateUploadBatchRequest.yaml'
    InitiateUploadBatchResponse:
      $ref: './components/schemas/uploads/InitiateUploadBatchResponse.yaml'
    GetUploadPartUrlRequest:
      $ref: './components/schemas/uploads/GetUploadPartUrlRequest.yaml'
    GetUploadPartUrlsRequest:
      $ref: './components/schemas/uploads/GetUploadPartUrlsRequest.yaml'
    CompleteUploadRequest:
      $ref: './components/schemas/uploads/CompleteUploadRequest.yaml'
    CompleteUploadBatchItem:
      $ref: './components/schemas/uploads/CompleteUploadBatchItem.yaml'
    CompleteUploadBatchRequest:
      $ref: './components/schemas/uploads/CompleteUploadBatchRequest.yaml'
    CompleteUploadBatchResponse:
      $ref: './components/schemas/uploads/CompleteUploadBatchResponse.yaml'
    AbortUploadRequest:
      $ref: './components/schemas/uploads/AbortUploadRequest.yaml'
    MessageError:
      $ref: './components/schemas/common/MessageError.yaml'
    ValidationError:
      $ref: './components/schemas/common/ValidationError.yaml'
    NewGalleryPreviewMedia:
      $ref: './components/schemas/profiles/NewGalleryPreviewMedia.yaml'
    ProfileNewGalleryPreview:
      $ref: './components/schemas/profiles/ProfileNewGalleryPreview.yaml'
    ProfileDetailResponse:
      $ref: './components/schemas/profiles/ProfileDetailResponse.yaml'
    ProfileDetailEnvelope:
      $ref: './components/schemas/profiles/ProfileDetailEnvelope.yaml'
    ProfileViewerStateResponse:
      $ref: './components/schemas/profiles/ProfileViewerStateResponse.yaml'
    ProfileCardItem:
      $ref: './components/schemas/profiles/ProfileCardItem.yaml'
    ProfileCursorListResponse:
      $ref: './components/schemas/profiles/ProfileCursorListResponse.yaml'
    ProfileUpdateRequest:
      $ref: './components/schemas/profiles/ProfileUpdateRequest.yaml'
    ProfileUpdateEnvelope:
      $ref: './components/schemas/profiles/ProfileUpdateEnvelope.yaml'
    TopProfilesResponse:
      $ref: './components/schemas/profiles/TopProfilesResponse.yaml'
    FavoriteProfilesResponse:
      $ref: './components/schemas/profiles/FavoriteProfilesResponse.yaml'
  responses:
    Unauthorized:
      $ref: './components/responses/common/Unauthorized.yaml'
    Forbidden:
      $ref: './components/responses/common/Forbidden.yaml'
    NotFound:
      $ref: './components/responses/common/NotFound.yaml'
    ValidationError:
      $ref: './components/responses/common/ValidationError.yaml'
